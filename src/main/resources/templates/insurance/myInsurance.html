<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>我购买的保险</title>
    <!-- Bootstrap -->
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body>
<div class="container">
    <div class="col-sm-12">
        <h3>项目申请进度</h3>
        <!--分割线-->
        <div class="decoration"></div>
        <!--通知面板-->
        <div class="panel panel-default">
            <div class="panel-heading">通知信息</div>
            <div class="panel-body">

                <table class="table">
                    <thead>
                    <tr>
                        <th>编号</th>
                        <th>保险名称</th>
                        <th>状态</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="insurance : ${pageInfo.list}">
                        <!-- 隐藏的编号 -->
                        <td th:text="${insurance.id}"></td>
                        <td th:text="${insurance.projectName}"></td>
                        <td th:switch="${insurance.status}">
                            <div  th:case="1" ><label class="label label-default">等待审核</label></div>
                            <div  th:case="2">
                                <div class="btn-group" th:if="${insurance.payCost} eq 1">
                                    <button type="button" class="btn btn-xs btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        审核通过<span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a href="#" th:onclick="'applyClaim('+${insurance.id}+')'">申请理赔</a></li>
                                    </ul>
                                </div>
                                <div  th:if="${insurance.payCost} eq 0">
                                    <label class="label label-warning">等待缴费</label>
                                </div>
                            </div>

                            <div  th:case="3" >
                                <div class="btn-group">
                                    <button type="button" class="btn btn-xs btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        审核失败<span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a href="#" onclick="apply()">重新申请</a></li>
                                    </ul>
                                </div>
                            </div>

                            <div  th:case="4"><label class="label label-primary">理赔申请中</label></div>
                            <div  th:case="5"><label class="label label-info">理赔通过</label></div>
                            <div  th:case="6" >
                                <div class="btn-group">
                                    <button type="button" class="btn btn-xs btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        理赔失败<span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a href="#" th:onclick="'applyClaim('+${insurance.id}+')'">完善信息</a></li>
                                    </ul>
                                </div>
                            </div>

                        </td>

                    </tr>
                    </tbody> 
                </table>
            </div>
        </div>
        <script>

        </script>
        <!--分割线-->
        <div class="decoration"></div>
    </div>
</div>
<!--底部导航条-->
<footer class="am-menu am-cf">
    <a href="/insurance">
        <div class="am-menu-column " id="explore" style="width: 33%;">
            <span>项目申请</span>
        </div>
    </a>
    <a href="/insurance/myInsurance?pageNumber=1">
        <div class="am-menu-column active" id="index" style="width: 33%;">
            <span>我的申请</span>
        </div>
    </a>
    <a href="/insurance/user">
        <div class="am-menu-column" id="my" style="width: 33%;">
            <span>我的资料</span>
        </div>
    </a>
</footer>
<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<script th:src="@{/js/jquery.min.js}"></script>
<!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
<script th:src="@{/js/bootstrap.min.js}"></script>
<script type="text/javascript">
     function applyClaim(id) {
         window.location.href = "/insurance/applyForClaim?id="+id;
     }
     function apply() {
         window.location.href = "/insurance/";
     }
</script>
</body>
</html>